By default, containers are isolatedâ€”they can't talk to each other or the outside world unless you set up a network.

![[Dockernetworkinh syllabus.png]]

## 1. Bridge Mode (default)

**Docker's default bridge mode creates an isolated internal network for containers on a single host, allowing them to communicate with each other while restricting external access unless ports are explicitly published.**
It's the most commonly used mode for standalone containers and supports NAT-based outbound traffic and port mapping from host to container.

Jab tum Docker install karte ho, yeh network apne aap ban jata hai. Agar tum container banate waqt koi network specify nahi karte, to tumhara container isi network mein jaake judta hai.

#### **1. How it Works (Architecture)**

- **The Interface:** Docker tumhare host OS par ek naya network interface banata hai jiska naam `docker0` hota hai.
    
- **Subnet:** Yeh aam taur par `172.17.0.0/16` range use karta hai.
    
- **IP Assignment:** Pehle container ko `172.17.0.2`, dusre ko `172.17.0.3` milega, aur isi tarah aage.
    
- **Gateway:** `172.17.0.1` tumhara host machine hota hai.
#### **2. Key Characteristics (Interview Points)**

1. **Automatic Connection:** Agar tum seedha `docker run -d nginx` likhoge, to woh `bridge` network se connect hoga.
    
2. **Communication via IP Only:** Is network pe containers ek dusre se baat kar sakte hain, **lekin sirf IP address ke through**.
    
    - _Example:_ Container A (`172.17.0.2`) can ping Container B (`172.17.0.3`).
        
    - _Problem:_ Agar Container B restart hua aur uska IP badal gaya, to connection toot jayega.
3. **No DNS Resolution (The Big Limitation):** Default Bridge mode mein **Service Discovery** kaam nahi karta.
    
    - Tum `ping container_name` nahi kar sakte. Tumhe IP hi pata hona chahiye.
        
    - _Note:_ Yahi sabse bada difference hai "Default Bridge" aur "User-Defined Bridge" mein. User-defined mein tum naam se ping kar sakte ho.
        
4.  **External Access:** Bahar ki duniya (Internet/User) container ko tab tak access nahi kar sakti jab tak tum **Port Mapping** (`-p 80:80`) na karo. Yeh NAT (Network Address Translation) ka use karta hai.
### **3. Practical Inspection (Hands-on)**

Chalo dekhte hain ki yeh network kaisa dikhta hai. Apne terminal mein yeh commands chalao:

**Step 1: List Networks**

Bash

```
docker network ls
```

_Tumhe ek entry dikhegi jiska DRIVER `bridge` hoga aur NAME `bridge` hoga._
![[Network list docker.png]]
**Step 2: Inspect the Bridge**

Bash

```
docker network inspect bridge
```

_Yeh command tumhe JSON format mein poori detail degi:_

- **Subnet:** IP range kya hai.
    
- **Containers:** Kaun kaun se containers abhi isse jude hue hain.
    

**Step 3: Check Interface (Linux/EC2 only)**

Bash

```
ifconfig docker0
```

_Yeh tumhe `docker0` bridge ka status dikhayega._

`docker0` = Docker ka default virtual bridge interface. Ye containers ko ek internal network deta hai (172.17.x.x range), host se connect karta hai, aur NAT ke through internet access enable karta hai.

---
## ðŸ”¹ Key Features of Default Bridge Mode

|Feature|Description|
|---|---|
|**Container-to-container communication**|Containers on the same bridge network can ping and access each other via internal IPs.|
|**Isolation**|Containers are isolated from the host and other networks unless explicitly exposed.|
|**Outbound internet access**|Containers can access the internet via NAT (Network Address Translation).|
|**Port publishing**|You can expose container ports to the host using `-p` (e.g., `-p 8080:80`).|
|**No inbound access by default**|External systems can't reach the container unless ports are published.|

## ðŸ”¹ How It Works Internally

- Docker creates a **virtual Ethernet bridge** (`docker0`) on the host.
    
- Each container gets a **veth pair**: one end in the container, one end in the bridge.
    
- Docker uses **iptables** to manage NAT and port forwarding.


## ðŸ§ª Practical Test: Default Bridge Mode
1. Check existing networks
	`docker network ls`
2. Run two containers without custom network
	`docker run -dit --name c1 ubuntu:20.04 bash`
	`docker run -dit --name c2 ubuntu:20.04 bash`
3. Find container IPs
	`docker exec -it c1 bash
	`apt update && apt install -y iproute2 iputils-ping
	`ip a
4. Test containerâ€‘toâ€‘container communication
	`ping 172.17.0.3
5. Test external access (port mapping)

**Real World Problem:** Agar tum production me database container ka IP hardcode kar doge (e.g., `172.17.0.3`), aur kal ko database restart hua aur usko naya IP mil gaya (`172.17.0.4`), to tumhara backend toot jayega.

Isiliye hum **User-Defined Bridge** use karte hain (Next topic), jisme naam se ping karna allowed hota hai.

