An IAM role in AWS is an identity with a set of permissions that allows it to access AWS resources. Unlike an IAM user, which has permanent credentials and is tied to a specific person or application, a role doesn't have its own standard credentials. 
Instead, it is designed to be **assumed** by a trusted entity—like an AWS service, an IAM user, or an external identity—to temporarily gain the permissions attached to the role.2

---

### Use Cases of IAM Roles
![[IAM USE CASE.png]]
There are many options for trusted entities because each one corresponds to a different, secure way of delegating permissions without sharing long-term credentials. They are designed to handle specific scenarios for granting access without sharing static credentials, which is a core tenet of AWS security.

- **[^1]Delegating (Giving) Permissions to AWS Services**: A common use case is granting an EC2 instance permission to access an S3 bucket or a Lambda function permission to write to a DynamoDB table. The service assumes the role to perform the required actions. By default, Services under AWS account operate in isolation and can not intract to each other.
    
- **[Enabling AWS Cross Account Access](obsidian://open?vault=Obsidian%20Vault&file=IAM%2F10.%20Enabling%20AWS%20Account%20Access)**: An IAM role can be used to securely grant permissions to a trusted AWS account to access resources in another account.7 For example, a company's "audit" account can assume a role in all "production" accounts to run security scans.
    
- **Providing Temporary Access to External Identities**: You can use an IAM role to grant temporary permissions to federated users from an **external identity provider (IdP)** like Active Directory or Okta, allowing them to access AWS resources without having an IAM user account.8
    

---

### How IAM Roles Differ from Other IAM Entities

Understanding the distinction between IAM roles, users, and groups is fundamental to managing permissions in AWS.

#### IAM Role vs. IAM User

| Feature         | IAM Role                                                                                                                  | IAM User                                                                                             |
| --------------- | ------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------- |
| **Purpose**     | Designed to be assumed by an entity to gain temporary access. It represents a set of permissions, not a specific person.  | A specific identity for a person or application that interacts with AWS using permanent credentials. |
| **Credentials** | Temporary credentials are provided when the role is assumed.                                                              | Permanent credentials (password, access keys) are assigned directly to the user.                     |
| **Use Case**    | **Delegating permissions to services,** providing cross-account access, and granting temporary access to federated users. | A human or application needing to perform actions within AWS using their own identity.               |
| **Analogy**     | A role is like a temporary "pass" that a person can put on to access a specific area.                                     | A user is like a permanent employee ID card assigned to a specific person.                           |

#### IAM Role vs. IAM Group

|Feature|IAM Role|IAM Group|
|---|---|---|
|**Purpose**|A set of permissions that can be **assumed** by any trusted entity (user, service, or account).|A container to organize multiple IAM users and apply the same set of permissions to all of them simultaneously.|
|**Association**|Can be associated with users, services, or other accounts.|Can only contain IAM users.|
|**Analogy**|A role is a "job title" with specific responsibilities that any qualified person can temporarily assume.|A group is like a "department" that all members belong to and share the same access level.|

In summary, a **user** is **who** you are, a **group** is a collection of **users**, and a **role** is **what** an entity can temporarily become to perform a specific task.


## Example of using IAM user VS Role. 
[^1]: When an EC2 server needs to upload a user's file to an S3 bucket, **IAM roles** and **IAM users** accomplish the same task, but in fundamentally different and security-critical ways. The core distinction lies in how they manage credentials.
	
	---
	
	### How They Work Differently
	
	Using an IAM role is the recommended approach for AWS services interacting with other AWS services.
	
	- **With an IAM Role**: You create a role with a trust relationship that allows the EC2 service to assume it. You then attach this role to the EC2 instance itself. When your application on the EC2 server needs to upload a file to S3, it doesn't use hardcoded credentials. Instead, it automatically requests temporary, short-lived credentials from the EC2 instance metadata service. The application uses these temporary credentials to perform the upload. This is a very secure, credential-less approach for the server.
	    
	- **With an IAM User**: This method involves creating a dedicated IAM user and generating an **access key ID and a secret access key** for it. You would then store these **static, long-term credentials** on the EC2 server, usually in a configuration file or environment variables. The web application would use these credentials to authenticate and upload the file to S3.
	    
	
	---
	
	### Issues with an IAM User
	
	Using an IAM user for this purpose introduces several significant security risks that are solved by using an IAM role.
	
	- **Credential Exposure and Theft**: The main problem is that the long-term credentials must be stored on the EC2 server. If the server is ever compromised, an attacker can steal these credentials and gain **permanent access** to your S3 bucket, and potentially other AWS resources if the user has broader permissions. This poses a severe security risk.
	    
	- **Lack of Credential Rotation**: The static credentials of an IAM user do not expire unless you manually rotate them, which is a tedious and often forgotten security practice.
	    
	- **Excessive Permissions**: Developers often grant a user more permissions than necessary to get the job done quickly, a practice known as "over-privileging." Since the IAM user's credentials are a single, static entity, a malicious actor who obtains them gets all those permissions in one go.
	    
	
	Using an IAM **role** eliminates all of these issues. The temporary credentials it provides expire automatically, so even if they're compromised, they are useless within a short time. This means there are no long-term credentials to manage or secure on the server, making it a far more robust and secure solution.



