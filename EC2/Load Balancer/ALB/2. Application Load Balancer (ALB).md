
![[ALB setup 1.png]]
We can setup rule based url
# ðŸ”¥ Application Load Balancer (ALB) â€” Crystal Clear

### **1. What is ALB?**
- An **L7 load balancer** (Application Layer).
- Understands **HTTP and HTTPS traffic**.
- Can **make smart routing decisions** based on the actual content of the request (URL, host, headers, cookies, etc.).
- Works with **EC2, ECS (containers), EKS (Kubernetes), Lambda, or even IP addresses** as targets.
    
ðŸ‘‰ Think of ALB as a **traffic director** for your web apps & APIs.

### **2. Key Features**

#### a) **Content-Based Routing**
- **Path-based routing** â†’ `/api/*` â†’ API servers, `/images/*` â†’ Image servers.
- **Host-based routing** â†’ `app.mysite.com` â†’ App servers, `admin.mysite.com` â†’ Admin servers.
- **Header/Query/Cookie-based routing** â†’ send requests differently based on request details.
#### b) **Target Groups**
- ALB doesnâ€™t send traffic directly to servers â€” instead it sends to **Target Groups**.
- A Target Group = a set of EC2 instances, IPs, containers, or Lambda functions.
- Each Target Group has its own **health checks**.
- One ALB can have **multiple Target Groups**, each for a different part of your app.
#### c) **Health Checks**
- ALB continuously checks if targets are alive.
- If a target fails, ALB **stops sending requests** to it automatically.
#### d) **[[3. SSL-TLS Termination]]**

- ALB can handle HTTPS (SSL/TLS).
- It can **decrypt traffic at the LB**, then forward plain HTTP to backend servers â†’ reduces CPU load on servers.
- You can also use **end-to-end encryption** (LB â†’ Server also encrypted).
#### e) **Sticky Sessions (Session Affinity)**
- By default, requests can go to any server.
- If your app needs a user to **stick to the same server** (e.g., shopping cart session), ALB supports stickiness using cookies.
#### f) **[[4. WebSockets ,HTTP-2]]**
- Supports long-lived WebSocket connections.
- Supports modern HTTP/2 protocol.
#### g) **Security**
- Works with **AWS WAF** (Web Application Firewall).
- Uses **Security Groups** to control inbound traffic.
- Can be placed inside **public or private subnets**.

How to setup ALB

![[ALB setup 1.png]]