# ğŸ”¥ AWS Load Balancer (Crystal Clear Explanation)

### **What is a Load Balancer?**

A **Load Balancer (LB)** is a middle layer between **clients (users)** and **your backend servers (EC2, containers, Lambda, etc.)**.  
Its job is simple:

- **Distribute traffic** across multiple targets so no single server gets overloaded.
- **Increase availability** (if one server dies, traffic goes to healthy ones).
- **Increase scalability** (you can add/remove servers anytime without impacting users).
# ğŸ¯ Why AWS Provides Different Load Balancers

Because different apps have different traffic patterns and needs. AWS Elastic Load Balancing (ELB) offers **3 main types** (+1 special).

## 1. **[[2. Application Load Balancer (ALB)]]**

ğŸ‘‰ Layer 7 (Application layer â€“ HTTP/HTTPS)
- **Understands content of requests** (URLs, headers, methods).
- Can route based on:
    - Path: `/api/*` â†’ API servers, `/images/*` â†’ image servers
    - Host: `app.mysite.com` â†’ app servers, `admin.mysite.com` â†’ admin servers
    - Headers, query strings, cookies
- Supports **WebSockets & HTTP/2**
- Best for **modern web apps, APIs, and microservices**
- Targets: EC2, ECS, EKS (containers), Lambda functions, IPs
    
**Real-life use:**  
If you run a website + API, ALB can send `mysite.com/api` traffic to API servers and `mysite.com` to frontend servers.
## 2. **Network Load Balancer (NLB)**

ğŸ‘‰ Layer 4 (Transport layer â€“ TCP/UDP/TLS)
- Handles **millions of requests per second** at **ultra-low latency (microseconds)**.
- Works with protocols: **TCP, UDP, TLS**.
- Can **preserve client IP address** (important for logging, security).
- Supports **static IPs** or **Elastic IPs**.
- Best for **real-time systems, gaming servers, financial apps, IoT, VoIP, or when ALB overhead is too heavy**.

**Real-life use:**  
Stock trading app needs **ultra-fast TCP connections** with real client IP. Use NLB.

---
## 3. **Gateway Load Balancer (GWLB)**

ğŸ‘‰ Layer 3 (Network layer â€“ IP packet level)
- Not for apps directly.
- Designed to **insert third-party security appliances** (firewalls, intrusion detection, deep packet inspection).
- It routes traffic **in and out** of these appliances **transparently**.
- Targets: Virtual appliances (usually from AWS Marketplace).

**Real-life use:**  
You want all traffic to pass through a **firewall/IDS system** before hitting your servers. GWLB makes this happen invisibly.

---
## 4. **Classic Load Balancer (CLB)** [Legacy, not recommended]
- Old version, supports both Layer 4 & Layer 7 in a very basic way.
- AWS recommends migrating to ALB/NLB.
    
---
# ğŸš¦ Health Checks

Every Load Balancer continuously **checks health of targets** (via HTTP/TCP ping).

- Healthy target = receives traffic.
- Unhealthy = removed automatically.  
    ğŸ‘‰ This gives **high availability** without manual intervention.
    
---

# ğŸ” Security

- Works with **Security Groups, IAM, WAF (Web Application Firewall)**.
- Supports **SSL/TLS termination** (LB handles encryption/decryption â†’ reduces server load).

---
# ğŸ“Œ When to Use What (Rule of Thumb)

- **ALB** â†’ For **web apps, REST APIs, microservices**
    
- **NLB** â†’ For **high-performance TCP/UDP apps, low latency, millions of requests**
    
- **GWLB** â†’ For **security appliances (firewalls, monitoring tools)**
    
- **CLB** â†’ Forget it, unless youâ€™re stuck with old legacy setups
    

---

# ğŸ§  Quick Analogy

- **ALB** = Smart receptionist who knows _what you want_ and sends you to the right department (based on request content).
    
- **NLB** = Super-fast bouncer, just directs you to the next available door without caring whatâ€™s inside the request.
    
- **GWLB** = Security checkpoint where every packet is scanned before entering the building.
    
- **CLB** = Old outdated receptionist who barely manages.