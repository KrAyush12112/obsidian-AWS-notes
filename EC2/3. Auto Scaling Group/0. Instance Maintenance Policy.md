This decides what ALB should do when youâ€™re **deregistering old instances and registering new ones** (rolling updates, auto scaling, or blue/green deployment).

Hereâ€™s the breakdown ğŸ‘‡
---
## ğŸ”¹ Maintenance Policy Options in ALB Target Groups

When targets (EC2s, containers) are replaced, ALB gives you **two choices**:

### 1. **Terminate before launch**

- Meaning:
    - Old instance is **removed first** from the target group.
    - Then the new instance is registered.
- Flow:
    1. ALB stops sending traffic to old instance.
    2. Waits for **deregistration delay** (default 300 sec) so in-flight requests finish.
    3. Old instance is terminated.
    4. New instance is added.
        
- âœ… Pros:
    
    - Saves cost (never have old + new running at the same time).
    - Simple.
- âŒ Cons:
    
    - Risk of downtime if new instance takes time to warm up or fails health checks.
    - Users might see errors during the switch.
---
### 2. **Launch before terminate**
- Meaning:
    - New instance is **launched and registered first**.
    - Old instance is removed only after the new one is healthy.
- Flow:
    1. Start new instance.
    2. Register with ALB target group.
    3. Wait until health check = healthy.
    4. Deregister old instance.
- âœ… Pros:
    
    - **Zero downtime** deployment (traffic shifts only after new instance is ready).
    - Safer for production apps.
        
- âŒ Cons:
    - Slightly higher cost (old and new overlap for some time).
---
## ğŸ”¹ When to Use What?

|Policy|Best forâ€¦|
|---|---|
|Terminate before launch|Test/Dev environments, cost-sensitive setups|
|Launch before terminate|Production apps, critical services, no downtime|

---

## ğŸ”¹ Extra Notes

- **Deregistration delay** = grace period so ALB drains existing connections before removing old instance (default 300s, can reduce to ~30s for fast apps).
    
- **Connection draining** ensures users donâ€™t get cut off mid-request.
    
- Works with both **EC2 Auto Scaling groups** and **ECS services**.
    

---

âš¡ **In short:**

- _Terminate before launch_ â†’ cheaper, downtime risk.
    
- _Launch before terminate_ â†’ safer, minimal downtime, costs a bit more.