## **1. Block Storage**

Low-latency, like a virtual hard drive directly attached to your instance.

- **EBS (Elastic Block Store)** â†’ Persistent storage for EC2, survives instance stop/start.
    
    - Types:
        
        - **gp3 / gp2** â†’ General Purpose SSD
            
        - **io2 / io1** â†’ Provisioned IOPS (I/O operations) SSD (high performance, critical workloads)
            
        - **st1** â†’ Throughput-optimized HDD (big data, logs)
            
        - **sc1** â†’ Cold HDD (cheap, infrequent access)
            
- **Instance Store** â†’ Temporary storage physically attached to the host. Lost if you stop/terminate the instance.

Life-time of ebs - EBS volumes are **independent from instance lifetime**, but thereâ€™s a catch.

### 3 Type of EBS States
### **1. Root EBS Volume (default behavior)**

- By default, **root volume** (the one your OS is on) has `"DeleteOnTermination" = true`.
    
- This means if you terminate the EC2, AWS will automatically delete that volume **unless** you uncheck that option during launch or modify it later.
    

---

### **2. Additional (Attached) EBS Volumes**

- For any extra EBS volume you attach manually, the default `"DeleteOnTermination"` is **false**.
    
- These volumes **stay alive** even after the instance is terminated â€” youâ€™ll still pay for them until you delete them.
    

---

### **3. Instance Store Volumes**

- These are **physically attached to the host** (ephemeral).
    
- Lost when you stop or terminate the instance, **no way to recover**.
    

---

âœ… **Key point:**  
EBS lifetime â‰  instance lifetime.  
###### It only dies automatically if the "DeleteOnTermination" flag is set to true.
---

##### **EBS volume types**

## **1. gp3 (General Purpose SSD v3)**

- **Type:** SSD
    
- **Use case:** Balanced performance for most workloads (web apps, dev/test, small DBs).
    
- **Performance:**
    
    - Baseline: 3,000 IOPS
        
    - You can scale IOPS up to **16,000** and throughput up to **1,000 MB/s** independently of size.
        
- **Why itâ€™s popular:** Cheaper than gp2, more predictable performance.
    

---

## **2. io2 (Provisioned IOPS SSD v2)**

- **Type:** SSD
    
- **Use case:** High-performance, mission-critical workloads (large databases, OLTP, analytics).
    
- **Performance:**
    
    - Can provision up to **64,000 IOPS** (Nitro systems).
        
    - Durability: **99.999%** (higher than gp3).
        
- **Why use:** When you canâ€™t risk latency spikes â€” e.g., production DBs where milliseconds matter.
    
- **Expensive** compared to gp3.
    

---

## **3. st1 (Throughput Optimized HDD)**

- **Type:** HDD (magnetic)
    
- **Use case:** Large, sequential workloads (data warehouses, big data, log processing).
    
- **Performance:**
    
    - Focus on **MB/s throughput**, not IOPS.
        
    - Up to ~500 MB/s depending on size.
        
- **Cheap** but **not for small random reads/writes**.
    

---

## **4. sc1 (Cold HDD)**

- **Type:** HDD (magnetic)
    
- **Use case:** Infrequent access, archival, lowest-cost block storage.
    
- **Performance:**
    
    - Much lower throughput (~250 MB/s) and IOPS.
        
    - Good for data you barely touch but need online.
        
- **Cheapest** EBS option.
    

---

ğŸ’¡ **Quick memory tip:**

- **SSD = gp3, io2** (fast, low latency)
    
- **HDD = st1, sc1** (cheap, sequential storage)
    
- gp3 â†’ general, io2 â†’ premium speed, st1 â†’ fast HDD, sc1 â†’ slow HDD.

---
## **1. The Core Difference: How They Store & Access Data**

|Service|Storage Model|Access Pattern|Latency|Typical Use Case|
|---|---|---|---|---|
|**EBS**|**Block Storage** (virtual hard drive)|Mount to a single EC2 instance (like `/dev/sda1`)|Low ms|OS disks, databases, application storage|
|**S3**|**Object Storage** (data + metadata + ID)|Access via HTTP(S) API (no â€œmountâ€)|Higher ms|Backups, images, static files, big data|
|**EFS**|**File Storage** (shared file system)|Mount to many EC2 instances (NFS)|Low ms|Shared web content, multiple app servers|
|**Instance Store**|Local Block Storage|Only for one instance, temporary|Microseconds|Caching, temporary processing|
|**Glacier** (S3 tier)|Object Storage (archive)|API access after restore delay|Minutes to hours|Cold archive, compliance data|


##### Throughput and Volume Initialization Rate

### âš¡ Throughput (Speed of Data Flow)

Think of **throughput** like the speed of a water pipe. Itâ€™s how fast data can flow between your EC2 instance and its attached storage (like EBS).

- Measured in **MB/s** (megabytes per second)
    
- Higher throughput = faster read/write speeds
    
- Important for apps that move big files or stream data (e.g., video processing, databases)
    

ğŸ’¡ Example: If your EBS volume has 250 MB/s throughput, it can transfer 250 megabytes of data every second.

### ğŸš€ Volume Initialization Rate (Speed of Warming Up)

This is about how fast an EBS volume becomes **fully ready** when created from a snapshot.

Normally, when you create a volume from a snapshot:

- AWS **lazy-loads** the data (only loads blocks when accessed)
    
- This causes slow performance at first
    

With **Provisioned Volume Initialization Rate**, you can say:

> â€œYo AWS, preload this volume at 300 MB/s so itâ€™s ready to go fast!â€

- You set a rate (100â€“300 MB/s) for how quickly AWS copies snapshot data to the volume
    
- Your EC2 instance gets full performance **immediately**, not gradually
    

ğŸ’¡ Example: Launching 100 EC2s from a snapshot-based AMI? Set a 300 MB/s rate and all volumes will be warmed up fast2.

### ğŸ”„ Quick Comparison

|Term|What It Means|Why It Matters|
|---|---|---|
|**Throughput**|Speed of reading/writing data|Affects app performance during use|
|**Initialization Rate**|Speed of preparing volume from snapshot|Affects how fast your app boots up|

##### File system and its component (EFS and FSx)
## ğŸ“ What Is a File System?

A **file system** organizes and stores data in files and directories. In cloud computing, file systems allow multiple compute instances (like EC2) to access shared data simultaneously. AWS offers managed file systems that eliminate the need to manage hardware or software manually.

## ğŸŒ Amazon EFS (Elastic File System)

Amazon EFS is a **fully managed, serverless, elastic file system** designed for Linux-based workloads.

### ğŸ”§ Key Features

- **Scalable**: Automatically grows and shrinks as files are added or removed2
    
- **Concurrent Access**: Thousands of EC2 instances can access the same file system simultaneously
    
- **Protocol Support**: Uses NFSv4.1 and NFSv4.0, ideal for Linux environments
    
- **High Availability**: Data is stored across multiple Availability Zones (AZs)
    
- **Performance Modes**:
    
    - _General Purpose_: For latency-sensitive apps
        
    - _Max I/O_: For highly parallel workloads
        
- **Throughput Modes**:
    
    - _Bursting_: Scales with usage
        
    - _Provisioned_: Set throughput manually
        

### ğŸ“Œ Use Cases

- Web hosting (shared content across servers)
    
- Machine learning (shared training data)
    
- Content management systems
    
- Home directories for users
    

### ğŸ’¡ Example

Imagine a web app hosted on multiple EC2 instances. You store user-uploaded images in EFS so all servers can access them instantly and consistently.

Sources: 2

## ğŸ–¥ï¸ Amazon FSx

Amazon FSx offers **fully managed file systems** optimized for specific workloads and operating systems.

### ğŸ”§ FSx Variants

|Variant|Best For|Protocols Used|
|---|---|---|
|FSx for Windows|Windows-based apps|SMB|
|FSx for Lustre|High-performance computing|Lustre|
|FSx for NetApp ONTAP|Enterprise workloads, hybrid cloud|NFS, SMB, iSCSI|
|FSx for OpenZFS|Linux-based apps with ZFS support|NFS|

### ğŸŒŸ Key Features

- **Native Compatibility**: Windows file systems for FSx for Windows
    
- **High Performance**: Sub-millisecond latency, high throughput
    
- **Security**: Encryption at rest and in transit, VPC integration
    
- **Backup & Durability**: Integrated with AWS Backup, multi-AZ support6
    

### ğŸ“Œ Use Cases

- FSx for Windows: Enterprise apps like SharePoint or SAP
    
- FSx for Lustre: Scientific computing, genomics, video rendering
    
- FSx for NetApp ONTAP: Hybrid cloud storage, disaster recovery
    
- FSx for OpenZFS: Linux workloads needing ZFS features
    

### ğŸ’¡ Example

A media company uses FSx for Lustre to process 4K video files in parallel across multiple EC2 instances, dramatically speeding up rendering time.

Sources: 67

## ğŸ” EFS vs FSx: Quick Comparison

|Feature|Amazon EFS|Amazon FSx|
|---|---|---|
|OS Compatibility|Linux|Windows, Linux, macOS|
|Protocols|NFS|SMB, NFS, Lustre, iSCSI|
|Performance|Elastic throughput|Sub-ms latency, high IOPS|
|Use Case|Web hosting, ML, shared storage|HPC, enterprise apps, media editing|
|Management|Fully managed, serverless|Fully managed, customizable|

Sources: 8