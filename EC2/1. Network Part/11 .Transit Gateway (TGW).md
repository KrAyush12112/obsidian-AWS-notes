# ğŸš What is **Transit Gateway (TGW)**?

### âœ… **Definition:**

A **Transit Gateway** is a **central router** that connects multiple VPCs, on-premises networks, and VPNs â€” **scalable**, **hub-and-spoke** style.

![[Pasted image 20250804012419.png]]
> Think of it as a **modern airport hub** where all flights (VPCs, VPNs, etc.) connect through a central terminal instead of flying directly to each other.

## ğŸ§  Why Use TGW?

Because **VPC Peering doesnâ€™t scale** well.  
If you connect 10 VPCs with peering:

- ğŸ”ºYou need **45 separate connections** (NÃ—(Nâˆ’1)/2)
    
- Messy route tables, manual effort
    ![[Pasted image 20250804012358.png]]

With TGW:

- ğŸ”»Just **plug each VPC into the hub**
    
- **1-to-many routing** via Transit Gateway
    
- **Centralized management**

## ğŸ§± Core Concepts of TGW

Let's go through every important component:

---
### 1. ğŸ›ï¸ **Transit Gateway Itself**

- It's the **central router**
    
- Managed by AWS (scalable, redundant)
    
- You **create** it once in a region
    

---

### 2. ğŸ”Œ **Attachments**

#### âœ… Definition:

Connections between a **Transit Gateway** and:

- A **VPC**
    
- A **VPN**
    
- A **Direct Connect gateway**
    
- Another **TGW in another region** (called **Transit Gateway Peering Attachment**)
    

Each is called an **attachment**.

#### ğŸ§  Real Analogy:

Each **VPC is a subway line**, and **attachments** are the tunnels connecting them to the central station (**TGW**).

---

### 3. ğŸ“¦ **Transit Gateway Route Table (TGW RT)**

- Every TGW has **its own route tables**
    
- Used to **control which attachments (subnet) can talk to which**
    
- You can create **multiple TGW route tables** for different routing domains
    

#### ğŸ”„ Attachment Association:

Each attachment must be **associated** with **one TGW Route Table**

#### ğŸ¯ Route Propagation:

Each attachment can **propagate** its CIDR to one or more TGW route tables

---

### 4. ğŸ” **TGW vs VPC Route Table**

- TGW RT = decides what attachment can talk to what
    
- VPC RT = must also have a route to the TGW
    

âœ… **Both must be configured** for traffic to work

---

### 5. ğŸ” **Propagation**

- You let the TGW know about the CIDR blocks of a VPC or VPN
    
- TGW can **automatically learn** about routes if propagation is enabled
    

---

### 6. ğŸ’¬ **Inter-Region Peering**

- You can connect TGWs across different AWS regions
    
- Uses AWS backbone (low latency, high security)
    

---

## ğŸ§± Summary Table of Terms

|Term|Meaning|
|---|---|
|TGW|Central router|
|Attachment|Connection to TGW (VPC, VPN, etc.)|
|TGW Route Table|Routing logic inside TGW|
|Association|Which TGW route table an attachment uses|
|Propagation|Allows attachment to advertise its routes to TGW|
|Peering Attachment|TGW-to-TGW connection (cross-region)|

---

## ğŸ“Real-World Analogy (Visual)


          [ VPC-A ]
              |
          [Attachment]
              |
         [ Transit GW ]
	        /      |      \
        [VPC-B]  [VPC-C]  [VPN]


- Without TGW: Every VPC would need peering with each other â†’ chaos
    
- With TGW: Everyone talks through the central point
    

---

## âœ… Use Cases

|Use Case|Why TGW Helps|
|---|---|
|Centralized VPC networking|Plug all VPCs into one TGW|
|Hybrid cloud|Connect on-premises (via VPN/DX) and cloud via TGW|
|Multi-region|Connect regions with **TGW Peering**|
|Isolated departments|Use **multiple TGW RTs** to control who talks to whom|

---

## ğŸ” Security & Control

- You can create **different route tables** for:
    
    - **Dev, Test, Prod**
        
    - **Finance VPCs vs Engineering VPCs**
        
- You **block or allow** communication by:
    
    - **Routing rules**
        
    - **Security groups**
        
    - **NACLs**
        

---

## ğŸš¨ Gotchas to Watch Out For

| Issue                                  | Explanation                                           |
| -------------------------------------- | ----------------------------------------------------- |
| You still need VPC route table entries | TGW â‰  magic â€” VPCs must route traffic through the TGW |
| No transitive DNS                      | TGW doesn't forward DNS between VPCs                  |
| Charges apply per GB                   | You're billed for data going through TGW              |
| CIDRs must not overlap                 | Same as peering â€” CIDRs should be unique              |